import e from"vue";function t(e){return 1==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}const r=Object.prototype,n=r.toString,o=r.hasOwnProperty,i=/^\s*function (\w+)/;function a(e){var t;const r=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(r){const e=r.toString().match(i);return e?e[1]:""}return""}const s=function(e){var r,n;return!1!==t(e)&&"function"==typeof(r=e.constructor)&&!1!==t(n=r.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")},u=e=>e;let c=u;if("production"!==process.env.NODE_ENV){const t="undefined"!=typeof console;c=t?function(t){!1===e.config.silent&&console.warn("[VueTypes warn]: "+t)}:u}const l=(e,t)=>o.call(e,t),f=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},d=Array.isArray||function(e){return"[object Array]"===n.call(e)},p=e=>"[object Function]"===n.call(e),y=e=>s(e)&&l(e,"_vueTypes_name"),v=e=>s(e)&&(l(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>l(e,t)));function h(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function b(e,t,r=!1){let n,o=!0,u="";n=s(e)?e:{type:e};const f=y(n)?n._vueTypes_name+" - ":"";if(v(n)&&null!==n.type){if(void 0===n.type)return o;if(!n.required&&void 0===t)return o;void 0===n.type?u="any":d(n.type)?(o=n.type.some(e=>!0===b(e,t,!0)),u=n.type.map(e=>a(e)).join(" or ")):(u=a(n),o="Array"===u?d(t):"Object"===u?s(t):"String"===u||"Number"===u||"Boolean"===u||"Function"===u?function(e){if(null==e)return"";const t=e.constructor.toString().match(i);return t?t[1]:""}(t)===u:t instanceof n.type)}if(!o){const e=`${f}value "${t}" should be of type "${u}"`;return!1===r?(c(e),!1):e}if(l(n,"validator")&&p(n.validator)){const e=c,i=[];if(c=e=>{i.push(e)},o=n.validator(t),c=e,!o){const e=(i.length>1?"* ":"")+i.join("\n* ");return i.length=0,!1===r?(c(e),o):e}}return o}function g(e,t){const r=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(e){return void 0===e?(l(this,"default")&&delete this.default,this):p(e)||!0===b(this,e,!0)?(this.default=d(e)?()=>[...e]:s(e)?()=>Object.assign({},e):e,this):(c(`${this._vueTypes_name} - invalid default value: "${e}"`),this)}}}),{validator:n}=r;return p(n)&&(r.validator=h(n,r)),r}function O(e,t){const r=g(e,t);return Object.defineProperty(r,"validate",{value(e){return p(this.validator)&&c(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:\n${JSON.stringify(this)}`),this.validator=h(e,this),this}})}function m(e,t,r){const n=function(e){const t={};return Object.getOwnPropertyNames(e).forEach(r=>{t[r]=Object.getOwnPropertyDescriptor(e,r)}),Object.defineProperties({},t)}(t);if(n._vueTypes_name=e,!s(r))return n;const{validator:o,...i}=r;if(p(o)){let{validator:e}=n;e&&(e=null!==(u=(a=e).__original)&&void 0!==u?u:a),n.validator=h(e?function(t){return e.call(this,t)&&o.call(this,t)}:o,n)}var a,u;return Object.assign(n,i)}function j(e){return e.replace(/^(?!\s*$)/gm,"  ")}const _=()=>O("any",{}),T=()=>O("function",{type:Function}),w=()=>O("boolean",{type:Boolean}),$=()=>O("string",{type:String}),P=()=>O("number",{type:Number}),x=()=>O("array",{type:Array}),A=()=>O("object",{type:Object}),E=()=>g("integer",{type:Number,validator:e=>f(e)}),N=()=>g("symbol",{validator:e=>"symbol"==typeof e});function q(e,t="custom validation failed"){if("function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return g(e.name||"<<anonymous function>>",{validator(r){const n=e(r);return n||c(`${this._vueTypes_name} - ${t}`),n}})}function S(e){if(!d(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t=`oneOf - value should be one of "${e.join('", "')}".`,r=e.reduce((e,t)=>{if(null!=t){const r=t.constructor;-1===e.indexOf(r)&&e.push(r)}return e},[]);return g("oneOf",{type:r.length>0?r:void 0,validator(r){const n=-1!==e.indexOf(r);return n||c(t),n}})}function V(e){if(!d(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,r=[];for(let n=0;n<e.length;n+=1){const o=e[n];if(v(o)){if(y(o)&&"oneOf"===o._vueTypes_name){r=r.concat(o.type||[]);continue}if(p(o.validator)&&(t=!0),void 0!==o.type){r=r.concat(o.type);continue}}r.push(o)}return r=r.filter((e,t)=>r.indexOf(e)===t),g("oneOfType",t?{type:r,validator(t){const r=[],n=e.some(e=>{const n=b(y(e)&&"oneOf"===e._vueTypes_name?e.type||null:e,t,!0);return"string"==typeof n&&r.push(n),!0===n});return n||c(`oneOfType - provided value does not match any of the ${r.length} passed-in validators:\n${j(r.join("\n"))}`),n}}:{type:r})}function k(e){return g("arrayOf",{type:Array,validator(t){let r;const n=t.every(t=>(r=b(e,t,!0),!0===r));return n||c("arrayOf - value validation error:\n"+j(r)),n}})}function D(e){return g("instanceOf",{type:e})}function F(e){return g("objectOf",{type:Object,validator(t){let r;const n=Object.keys(t).every(n=>(r=b(e,t[n],!0),!0===r));return n||c("objectOf - value validation error:\n"+j(r)),n}})}function L(e){const t=Object.keys(e),r=t.filter(t=>{var r;return!!(null===(r=e[t])||void 0===r?void 0:r.required)}),n=g("shape",{type:Object,validator(n){if(!s(n))return!1;const o=Object.keys(n);if(r.length>0&&r.some(e=>-1===o.indexOf(e))){const e=r.filter(e=>-1===o.indexOf(e));return c(1===e.length?`shape - required property "${e[0]}" is not defined.`:`shape - required properties "${e.join('", "')}" are not defined.`),!1}return o.every(r=>{if(-1===t.indexOf(r))return!0===this._vueTypes_isLoose||(c(`shape - shape definition does not include a "${r}" property. Allowed keys: "${t.join('", "')}".`),!1);const o=b(e[r],n[r],!0);return"string"==typeof o&&c(`shape - "${r}" property validation error:\n ${j(o)}`),!0===o})}});return Object.defineProperty(n,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(n,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),n}class Y{static get any(){return _()}static get func(){return T().def(this.defaults.func)}static get bool(){return w().def(this.defaults.bool)}static get string(){return $().def(this.defaults.string)}static get number(){return P().def(this.defaults.number)}static get array(){return x().def(this.defaults.array)}static get object(){return A().def(this.defaults.object)}static get integer(){return E().def(this.defaults.integer)}static get symbol(){return N()}static extend(e){if(d(e))return e.forEach(e=>this.extend(e)),this;const{name:t,validate:r=!1,getter:n=!1,...o}=e;if(l(this,t))throw new TypeError(`[VueTypes error]: Type "${t}" already defined`);const{type:i}=o;if(y(i))return delete o.type,Object.defineProperty(this,t,n?{get:()=>m(t,i,o)}:{value(...e){const r=m(t,i,o);return r.validator&&(r.validator=r.validator.bind(r,...e)),r}});let a;return a=n?{get(){const e=Object.assign({},o);return r?O(t,e):g(t,e)},enumerable:!0}:{value(...e){const n=Object.assign({},o);let i;return i=r?O(t,n):g(t,n),n.validator&&(i.validator=n.validator.bind(i,...e)),i},enumerable:!0},Object.defineProperty(this,t,a)}}function B(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends Y{static get sensibleDefaults(){return{...this.defaults}}static set sensibleDefaults(t){this.defaults=!1!==t?!0!==t?{...t}:{...e}:{}}}).defaults={...e},t}Y.defaults={},Y.custom=q,Y.oneOf=S,Y.instanceOf=D,Y.oneOfType=V,Y.arrayOf=k,Y.objectOf=F,Y.shape=L,Y.utils={validate:(e,t)=>!0===b(t,e,!0),toType:(e,t,r=!1)=>r?O(e,t):g(e,t)};class I extends(B()){}export default I;export{_ as any,x as array,k as arrayOf,w as bool,B as createTypes,q as custom,m as fromType,T as func,D as instanceOf,E as integer,P as number,A as object,F as objectOf,S as oneOf,V as oneOfType,L as shape,$ as string,N as symbol,g as toType,O as toValidableType,b as validateType};
//# sourceMappingURL=vue-types.modern.js.map
