{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\views\\vadmin\\system\\savefile\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\views\\vadmin\\system\\savefile\\index.vue","mtime":1620833396858},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvZGphbmdvLXZ1ZS1hZG1pbi9kdmFkbWluLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7Cgp2YXIgX3NhdmVmaWxlID0gcmVxdWlyZSgiQC9hcGkvdmFkbWluL3N5c3RlbS9zYXZlZmlsZSIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL0ZpbGVVcGxvYWQvaW5kZXgiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIlNhdmVmaWxlIiwKICBjb21wb25lbnRzOiB7CiAgICBGaWxlVXBsb2FkOiBfaW5kZXguZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIG5hbWU6IHVuZGVmaW5lZCwKICAgICAgICB0eXBlOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmlbDmja7liJfooagKICAgICAgZmlsZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX3NhdmVmaWxlLmxpc3RTYXZlRmlsZSkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5maWxlTGlzdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAoKICAgIC8qKiDkuIrkvKDmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKHJvdykgewogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIuS4iuS8oOaWh+S7tiI7CiAgICB9LAoKICAgIC8qKiDmlofku7bkuIvovb0gKiovCiAgICBoYW5kbGVEb3dubG9hZDogZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQocm93KSB7CiAgICAgIHRoaXMuZG93bmxvYWQocm93LmZpbGVfdXJsLCByb3cubmFtZSk7CiAgICB9LAoKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1c2VySWRzID0gcm93LmlkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTmlofku7bnvJblj7fkuLoiJyArIHVzZXJJZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfc2F2ZWZpbGUuZGVsU2F2ZUZpbGUpKHVzZXJJZHMpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwoKICAgICAgICBfdGhpczIubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAoKICAgIC8qKiDmuIXnkIblup/lvIPmlofku7YgKi8KICAgIGhhbmRsZUNsZWFyOiBmdW5jdGlvbiBoYW5kbGVDbGVhcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTpobnmk43kvZzkvJrmiormiYDmnInmlbDmja7lupPkuK3kuI3lrZjlnKjnmoTmlofku7bliKDpmaTvvIzljIXmi6xPU1PkuK3nmoTmlofku7bvvIzmmK/lkKbnoa7orqTopoHmuIXnkIblup/lvIPmlofku7Y/JywgIuitpuWRiiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX3NhdmVmaWxlLmNsZWFyU2F2ZUZpbGUpKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykgewogICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CgogICAgICAgIF90aGlzMy5tc2dTdWNjZXNzKHZhbHVlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOWujOaIkOaMiemSriAqLwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnNhdmVGaWxlLmZpbGVMaXN0ID0gW107CiAgICB9LAogICAgQ29weUZpbGVVcmw6IGZ1bmN0aW9uIENvcHlGaWxlVXJsKHZhbHVlcykgewogICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0KTsKICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlcyk7CiAgICAgIGlucHV0LnNlbGVjdCgpOwoKICAgICAgaWYgKGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5JykpIHsKICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5aSN5Yi25oiQ5YqfIik7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaW5wdXQpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"文件名称\" prop=\"name\">\n        <el-input\n          v-model=\"queryParams.name\"\n          placeholder=\"请输入文件名称\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"文件类型\" prop=\"type\">\n        <el-input\n          v-model=\"queryParams.type\"\n          placeholder=\"请输入文件类型\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-upload\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n          v-hasPermi=\"['system:savefile:post']\"\n        >文件上传\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['system:savefile:{id}:delete']\"\n        >批量删除\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-download\"\n          size=\"mini\"\n          @click=\"handleClear\"\n          v-hasPermi=\"['system:clearsavefile:post']\"\n        >清理废弃文件\n        </el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"fileList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column label=\"文件编号\" width=\"90\" align=\"center\" prop=\"id\"/>\n      <el-table-column label=\"文件名称\" width=\"200\" align=\"center\" prop=\"name\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"文件类型\" width=\"150\" align=\"center\" prop=\"type\"/>\n      <el-table-column label=\"文件大小\" width=\"90\" align=\"center\" prop=\"size\"/>\n      <el-table-column label=\"存储位置\" align=\"center\" prop=\"address\"/>\n      <el-table-column label=\"文件来源\" align=\"center\" prop=\"source\"/>\n      <el-table-column label=\"文件本地地址\" align=\"center\" prop=\"file\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-document-copy\"\n            @click=\"CopyFileUrl(scope.row.file)\"\n            v-if=\"scope.row.file\"\n          ></el-button>\n          &nbsp;\n          <span>{{ scope.row.file }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"OSS地址\" align=\"center\" prop=\"oss_url\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-document-copy\"\n            @click=\"CopyFileUrl(scope.row.oss_url)\"\n            v-if=\"scope.row.oss_url\"\n          ></el-button>\n          &nbsp;\n          <span>{{ scope.row.oss_url }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"create_datetime\" width=\"160\">\n        <template slot-scope=\"scope\">\n          <span>{{ parseTime(scope.row.create_datetime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        align=\"center\"\n        class-name=\"small-padding fixed-width\"\n        width=\"130\"\n        v-if=\"hasPermi(['system:clearsavefile:download:post'])\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-download\"\n            @click=\"handleDownload(scope.row)\"\n            v-hasPermi=\"['system:clearsavefile:download:post']\"\n          >下载\n          </el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n            v-hasPermi=\"['system:savefile:{id}:delete']\"\n          >删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <!-- 对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"400px\" append-to-body @close=\"submitForm\">\n      <FileUpload ref=\"saveFile\" :file-type=\"['ALL']\" @input=\"submitForm\"></FileUpload>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">完 成</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {clearSaveFile, delSaveFile, listSaveFile} from \"@/api/vadmin/system/savefile\";\n  import FileUpload from \"@/components/FileUpload/index\";\n\n  export default {\n    name: \"Savefile\",\n    components: {FileUpload},\n    data() {\n      return {\n        // 遮罩层\n        loading: true,\n        // 显示搜索条件\n        showSearch: true,\n        // 非单个禁用\n        single: true,\n        // 非多个禁用\n        multiple: true,\n        // 弹出层标题\n        title: \"\",\n        // 是否显示弹出层\n        open: false,\n        // 查询参数\n        queryParams: {\n          pageNum: 1,\n          pageSize: 10,\n          name: undefined,\n          type: undefined,\n        },\n        // 总条数\n        total: 0,\n        // 数据列表\n        fileList: [],\n      }\n    },\n    created() {\n      this.getList();\n    },\n    mounted() {\n    },\n    methods: {\n      /** 查询列表 */\n      getList() {\n        this.loading = true;\n        listSaveFile(this.queryParams).then(response => {\n          this.fileList = response.data.results;\n          this.total = response.data.count;\n          this.loading = false;\n        });\n      },\n      /** 搜索按钮操作 */\n      handleQuery() {\n        this.getList();\n      },\n      /** 重置按钮操作 */\n      resetQuery() {\n        this.resetForm(\"queryForm\");\n        this.handleQuery();\n      },\n      /** 上传按钮操作 */\n      handleAdd(row) {\n        this.open = true;\n        this.title = \"上传文件\";\n      },\n      /** 文件下载 **/\n      handleDownload(row) {\n        this.download(row.file_url, row.name)\n      },\n      /** 删除按钮操作 */\n      handleDelete(row) {\n        const userIds = row.id || this.ids;\n        this.$confirm('是否确认删除文件编号为\"' + userIds + '\"的数据项?', \"警告\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(function () {\n          return delSaveFile(userIds);\n        }).then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        })\n      },\n      // 多选框选中数据\n      handleSelectionChange(selection) {\n        this.ids = selection.map(item => item.id)\n        this.single = selection.length !== 1\n        this.multiple = !selection.length\n      },\n      /** 清理废弃文件 */\n      handleClear() {\n        this.$confirm('此项操作会把所有数据库中不存在的文件删除，包括OSS中的文件，是否确认要清理废弃文件?', \"警告\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(function () {\n          return clearSaveFile();\n        }).then((values) => {\n          this.getList();\n          this.msgSuccess(values.msg);\n        })\n      },\n      /** 完成按钮 */\n      submitForm: function () {\n        this.getList();\n        this.open = false;\n        this.$refs.saveFile.fileList = []\n      },\n      CopyFileUrl(values){\n        const input = document.createElement('input');\n        document.body.appendChild(input);\n        input.setAttribute('value', values);\n        input.select();\n        if (document.execCommand('copy')) {\n          document.execCommand('copy');\n          this.msgSuccess(\"复制成功\");\n        }\n        document.body.removeChild(input);\n      }\n    }\n\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/vadmin/system/savefile"}]}