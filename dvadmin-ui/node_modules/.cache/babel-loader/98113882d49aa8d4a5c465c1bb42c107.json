{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\store\\modules\\permission.js","mtime":1620833396788},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvZGphbmdvLXZ1ZS1hZG1pbi9kdmFkbWluLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMubG9hZFZpZXcgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7Cgp2YXIgX3JvdXRlciA9IHJlcXVpcmUoIkAvcm91dGVyIik7Cgp2YXIgX21lbnUgPSByZXF1aXJlKCJAL2FwaS92YWRtaW4vbWVudSIpOwoKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9sYXlvdXQvaW5kZXgiKSk7Cgp2YXIgX1BhcmVudFZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9QYXJlbnRWaWV3IikpOwoKdmFyIF9ydW95aSA9IHJlcXVpcmUoIkAvdXRpbHMvcnVveWkiKTsKCnZhciBfZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImVsZW1lbnQtdWkvc3JjL2xvY2FsZS9sYW5nL2RlIikpOwoKdmFyIHBlcm1pc3Npb24gPSB7CiAgc3RhdGU6IHsKICAgIHJvdXRlczogW10sCiAgICBhZGRSb3V0ZXM6IFtdLAogICAgc2lkZWJhclJvdXRlcnM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgICBzdGF0ZS5hZGRSb3V0ZXMgPSByb3V0ZXM7CiAgICAgIHN0YXRlLnJvdXRlcyA9IF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgICB9LAogICAgU0VUX1NJREVCQVJfUk9VVEVSUzogZnVuY3Rpb24gU0VUX1NJREVCQVJfUk9VVEVSUyhzdGF0ZSwgcm91dGVycykgewogICAgICBzdGF0ZS5zaWRlYmFyUm91dGVycyA9IF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcnMpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g55Sf5oiQ6Lev55SxCiAgICBHZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gR2VuZXJhdGVSb3V0ZXMoX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIC8vIOWQkeWQjuerr+ivt+axgui3r+eUseaVsOaNrgogICAgICAgICgwLCBfbWVudS5nZXRSb3V0ZXJzKSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIGRhdGEgPSAoMCwgX3J1b3lpLmhhbmRsZVRyZWUpKHJlcy5kYXRhLCAiaWQiKTsKICAgICAgICAgIHZhciBzZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICAgICAgdmFyIHJkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgICAgICB2YXIgc2lkZWJhclJvdXRlcyA9IGZpbHRlckFzeW5jUm91dGVyKHNkYXRhKTsKICAgICAgICAgIHZhciByZXdyaXRlUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXIocmRhdGEsIGZhbHNlLCB0cnVlKTsKICAgICAgICAgIHJld3JpdGVSb3V0ZXMucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcqJywKICAgICAgICAgICAgcmVkaXJlY3Q6ICcvNDA0JywKICAgICAgICAgICAgaGlkZGVuOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIHJld3JpdGVSb3V0ZXMpOwogICAgICAgICAgY29tbWl0KCdTRVRfU0lERUJBUl9ST1VURVJTJywgc2lkZWJhclJvdXRlcyk7CiAgICAgICAgICByZXNvbHZlKHJld3JpdGVSb3V0ZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07IC8vIOmBjeWOhuWQjuWPsOS8oOadpeeahOi3r+eUseWtl+espuS4su+8jOi9rOaNouS4uue7hOS7tuWvueixoQoKZnVuY3Rpb24gZmlsdGVyQXN5bmNSb3V0ZXIoYXN5bmNSb3V0ZXJNYXApIHsKICB2YXIgbGFzdFJvdXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHJldHVybiBhc3luY1JvdXRlck1hcC5maWx0ZXIoZnVuY3Rpb24gKHJvdXRlKSB7CiAgICBpZiAodHlwZSAmJiByb3V0ZS5jaGlsZHJlbikgewogICAgICByb3V0ZS5jaGlsZHJlbiA9IGZpbHRlckNoaWxkcmVuKHJvdXRlLmNoaWxkcmVuKTsKICAgIH0KCiAgICBpZiAocm91dGUuY29tcG9uZW50KSB7CiAgICAgIC8vIExheW91dCBQYXJlbnRWaWV3IOe7hOS7tueJueauiuWkhOeQhgogICAgICBpZiAocm91dGUuY29tcG9uZW50ID09PSAnTGF5b3V0JykgewogICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IF9pbmRleC5kZWZhdWx0OwogICAgICB9IGVsc2UgaWYgKHJvdXRlLmNvbXBvbmVudCA9PT0gJ1BhcmVudFZpZXcnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gX1BhcmVudFZpZXcuZGVmYXVsdDsKICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygcm91dGUuY29tcG9uZW50ID09PSAic3RyaW5nIiAmJiByb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQvaW5kZXgnICYmICFyb3V0ZS5jaGlsZHJlbikgewogICAgICAgIC8vIOmmlumhteWumuWItgogICAgICAgIHJvdXRlLm1ldGEuYWZmaXggPSB0cnVlOwogICAgICAgIHJvdXRlLmNoaWxkcmVuID0gW3sKICAgICAgICAgIHBhdGg6ICdpbmRleCcsCiAgICAgICAgICBjb21wb25lbnQ6ICdpbmRleCcsCiAgICAgICAgICBuYW1lOiByb3V0ZS5uYW1lLAogICAgICAgICAgbWV0YTogcm91dGUubWV0YQogICAgICAgIH1dOwogICAgICAgIHJvdXRlLnBhdGggPSAnJzsKICAgICAgICByb3V0ZS5uYW1lID0gJyc7CiAgICAgICAgcm91dGUucmVkaXJlY3QgPSAnL2luZGV4JzsKICAgICAgICByb3V0ZS5hbHdheXNTaG93ID0gZmFsc2U7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gX2luZGV4LmRlZmF1bHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gbG9hZFZpZXcocm91dGUuY29tcG9uZW50KTsKICAgICAgfQogICAgfQoKICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAhPSBudWxsICYmIHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICByb3V0ZS5jaGlsZHJlbiA9IGZpbHRlckFzeW5jUm91dGVyKHJvdXRlLmNoaWxkcmVuLCByb3V0ZSwgdHlwZSk7CgogICAgICBpZiAocm91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIHJvdXRlLmNoaWxkcmVuWzBdLnBhdGggPT09ICdpbmRleCcpIHsKICAgICAgICByb3V0ZS5hbHdheXNTaG93ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGUuYWx3YXlzU2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGRlbGV0ZSByb3V0ZVsnY2hpbGRyZW4nXTsKICAgICAgZGVsZXRlIHJvdXRlWydyZWRpcmVjdCddOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0pOwp9CgpmdW5jdGlvbiBmaWx0ZXJDaGlsZHJlbihjaGlsZHJlbk1hcCkgewogIHZhciBsYXN0Um91dGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICB2YXIgY2hpbGRyZW4gPSBbXTsKICBjaGlsZHJlbk1hcC5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHsKICAgIGlmIChlbC5jaGlsZHJlbiAmJiBlbC5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgaWYgKGVsLmNvbXBvbmVudCA9PT0gJ1BhcmVudFZpZXcnKSB7CiAgICAgICAgZWwuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykgewogICAgICAgICAgYy5wYXRoID0gZWwucGF0aCArICcvJyArIGMucGF0aDsKCiAgICAgICAgICBpZiAoYy5jaGlsZHJlbiAmJiBjLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChmaWx0ZXJDaGlsZHJlbihjLmNoaWxkcmVuLCBjKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQoKICAgIGlmIChsYXN0Um91dGVyKSB7CiAgICAgIGVsLnBhdGggPSBsYXN0Um91dGVyLnBhdGggKyAnLycgKyBlbC5wYXRoOwogICAgfQoKICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KGVsKTsKICB9KTsKICByZXR1cm4gY2hpbGRyZW47Cn0KCnZhciBsb2FkVmlldyA9IGZ1bmN0aW9uIGxvYWRWaWV3KHZpZXcpIHsKICAvLyDot6/nlLHmh5LliqDovb0KICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy8iLmNvbmNhdCh2aWV3KV0sIHJlc29sdmUpOwogIH07Cn07CgpleHBvcnRzLmxvYWRWaWV3ID0gbG9hZFZpZXc7CnZhciBfZGVmYXVsdCA9IHBlcm1pc3Npb247CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/django-vue-admin/dvadmin-ui/src/store/modules/permission.js"],"names":["permission","state","routes","addRoutes","sidebarRouters","mutations","SET_ROUTES","constantRoutes","concat","SET_SIDEBAR_ROUTERS","routers","actions","GenerateRoutes","commit","Promise","resolve","then","res","data","sdata","JSON","parse","stringify","rdata","sidebarRoutes","filterAsyncRouter","rewriteRoutes","push","path","redirect","hidden","asyncRouterMap","lastRouter","type","filter","route","children","filterChildren","component","Layout","ParentView","meta","affix","name","alwaysShow","loadView","length","childrenMap","forEach","el","index","c","view","require"],"mappings":"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","sourcesContent":["import { constantRoutes } from '@/router'\nimport { getRouters } from '@/api/vadmin/menu'\nimport Layout from '@/layout/index'\nimport ParentView from '@/components/ParentView';\nimport { handleTree } from \"@/utils/ruoyi\";\nimport de from 'element-ui/src/locale/lang/de'\nconst permission = {\n  state: {\n    routes: [],\n    addRoutes: [],\n    sidebarRouters: []\n  },\n  mutations: {\n    SET_ROUTES: (state, routes) => {\n      state.addRoutes = routes\n      state.routes = constantRoutes.concat(routes)\n    },\n    SET_SIDEBAR_ROUTERS: (state, routers) => {\n      state.sidebarRouters = constantRoutes.concat(routers)\n    },\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes({ commit }) {\n      return new Promise(resolve => {\n        // 向后端请求路由数据\n        getRouters().then(res => {\n          const data = handleTree(res.data, \"id\");\n          const sdata = JSON.parse(JSON.stringify(data))\n          const rdata = JSON.parse(JSON.stringify(data))\n          const sidebarRoutes = filterAsyncRouter(sdata)\n          const rewriteRoutes = filterAsyncRouter(rdata, false, true)\n          rewriteRoutes.push({ path: '*', redirect: '/404', hidden: true })\n          commit('SET_ROUTES', rewriteRoutes)\n          commit('SET_SIDEBAR_ROUTERS', sidebarRoutes)\n          resolve(rewriteRoutes)\n        })\n      })\n    }\n  }\n}\n\n// 遍历后台传来的路由字符串，转换为组件对象\nfunction filterAsyncRouter(asyncRouterMap, lastRouter = false, type = false) {\n  return asyncRouterMap.filter(route => {\n    if (type && route.children) {\n      route.children = filterChildren(route.children)\n    }\n    if (route.component) {\n      // Layout ParentView 组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = Layout\n      } else if (route.component === 'ParentView') {\n        route.component = ParentView\n      } else if (typeof route.component === \"string\" && route.component === 'Layout/index' && !route.children) { // 首页定制\n        route.meta.affix = true\n        route.children = [\n          {\n            path: 'index',\n            component: 'index',\n            name: route.name,\n            meta: route.meta\n          }\n        ]\n        route.path = ''\n        route.name = ''\n        route.redirect = '/index'\n        route.alwaysShow = false\n        route.component = Layout\n      } else {\n        route.component = loadView(route.component)\n      }\n    }\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children, route, type)\n      if (route.children.length === 1 && route.children[0].path === 'index') {\n        route.alwaysShow = false\n      } else {\n        route.alwaysShow = true\n      }\n    } else {\n      delete route['children']\n      delete route['redirect']\n    }\n    return true\n  })\n}\n\nfunction filterChildren(childrenMap, lastRouter = false) {\n  var children = []\n  childrenMap.forEach((el, index) => {\n    if (el.children && el.children.length) {\n      if (el.component === 'ParentView') {\n        el.children.forEach(c => {\n          c.path = el.path + '/' + c.path\n          if (c.children && c.children.length) {\n            children = children.concat(filterChildren(c.children, c))\n            return\n          }\n          children.push(c)\n        })\n        return\n      }\n    }\n    if (lastRouter) {\n      el.path = lastRouter.path + '/' + el.path\n    }\n    children = children.concat(el)\n  })\n  return children\n}\n\nexport const loadView = (view) => { // 路由懒加载\n  return (resolve) => require([`@/views/${view}`], resolve)\n}\n\nexport default permission\n"]}]}