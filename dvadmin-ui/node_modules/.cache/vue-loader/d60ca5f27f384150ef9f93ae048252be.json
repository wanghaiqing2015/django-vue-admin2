{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\views\\vadmin\\monitor\\celery\\interval-task\\interval-index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\src\\views\\vadmin\\monitor\\celery\\interval-task\\interval-index.vue","mtime":1620833396835},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\django-vue-admin\\dvadmin-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIFN5bmNEYXRhQXBpIGZyb20gIkAvYXBpL3ZhZG1pbi9tb25pdG9yL2NlbGVyeSI7CmltcG9ydCBFZGl0Rm9ybUludGVydmFsVGFzayBmcm9tICcuL2VkaXQtZm9ybS1JbnRlcnZhbC10YXNrJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsgRWRpdEZvcm1JbnRlcnZhbFRhc2sgfSwKICAgIHByb3BzOiB7fSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGVyaW9kaWNEYXRhOiBbXSwKICAgICAgICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICAgICAgICBJbnRlcnZhbFRhZ0xpc3Q6IFtdLAogICAgICAgICAgICBlZGl0SW50ZXJ2YWw6IHt9LAogICAgICAgICAgICBlZGl0SW50ZXJ2YWxGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGVkaXRJbnRlcnZhbENyZWF0ZTogZmFsc2UsCiAgICAgICAgICAgIG1vZGVsRm9ybVZpc2libGU6IGZhbHNlLAogICAgICAgICAgICBtb2RlbFN3YWdnZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgYmF0Y2hFZGl0Rm9ybVZpc2libGU6IGZhbHNlLAogICAgICAgICAgICBkZXRhaWw6IFtdCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICB3YXRjaDoge30sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdERhdGEoKSB7CiAgICAgICAgICAgIFN5bmNEYXRhQXBpLmxpc3RJbnRlcnZhbHNjaGVkdWxlKHsgcGFnZV9zaXplOiAxMDAwIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0cyB8fCBbXTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLkludGVydmFsID0gdGhpcy5kZXRhaWw7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlUmVmcmVzaChpbmZvcykgewogICAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlSW50ZXJ2YWxTZWxlY3Rpb25DaGFuZ2UoaW5mb3MpIHsKICAgICAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IGluZm9zOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlT3BlbkVkaXRJbnRlcnZhbEZvcm0oY3JlYXRlID0gZmFsc2UsIGluZm8pIHsKICAgICAgICAgICAgaWYgKGNyZWF0ZSkgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0SW50ZXJ2YWwgPSB7IHBlcmlvZGljOiB0aGlzLmRldGFpbC5pZCB9OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0SW50ZXJ2YWwgPSB7IC4uLmluZm8gfTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmVkaXRJbnRlcnZhbENyZWF0ZSA9IGNyZWF0ZTsKICAgICAgICAgICAgdGhpcy5lZGl0SW50ZXJ2YWxGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVSZW1vdmVJbnRlcnZhbFRhYmxlKGluZm8pIHsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk77yfJywgJ+ehruiupOS/oeaBrycsIHsKICAgICAgICAgICAgICAgIGRpc3Rpbmd1aXNoQ2FuY2VsQW5kQ2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIFN5bmNEYXRhQXBpLmRlbGV0ZUludGVydmFsc2NoZWR1bGUoaW5mby5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGluZm8ubmFtZSA/IGluZm8ubmFtZSArICc6JyA6ICcnOwogICAgICAgICAgICAgICAgICAgIHRoaXMubXNnU3VjY2VzcyhuYW1lICsgJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVN1Y2Nlc3NFZGl0SW50ZXJ2YWwoKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlT3Blbk1vZGVsRm9ybSgpIHsKICAgICAgICAgICAgdGhpcy5tb2RlbEZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZU9wZW5Td2FnZ2VyKG1vZGVsID0gZmFsc2UpIHsKICAgICAgICAgICAgdGhpcy5tb2RlbFN3YWdnZXJWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUJhdGNoRWRpdCgpIHsKICAgICAgICAgICAgdGhpcy5iYXRjaEVkaXRGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["interval-index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"interval-index.vue","sourceRoot":"src/views/vadmin/monitor/celery/interval-task","sourcesContent":["<!--\n@author: xuchi\n@description: 接口信息页面\n-->\n<template>\n  <div class=\"app-container\">\n    <el-card class=\"box-card\" shadow=\"never\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>任务频率</span>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"handleOpenEditIntervalForm(true)\">\n          新增频率\n        </el-button>\n      </div>\n      <div style=\"height: 200px;\">\n        <el-scrollbar>\n          <div v-for=\"(val,index) in detail\" :key=\"index\">\n            <div class=\"text\" style=\"display:inline-block;height: 10px;\">\n              {{ getIntervalData(val) }}\n            </div>\n            <div style=\"float: right;padding-right: 10px;display:inline-block\">\n              <el-button\n                type=\"primary\"\n                icon=\"el-icon-edit\"\n                size=\"mini\"\n                circle\n                @click=\"handleOpenEditIntervalForm(false, val)\"/>\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                circle\n                @click=\"handleRemoveIntervalTable(val)\"/>\n            </div>\n            <el-divider/>\n          </div>\n          <div v-if=\"detail.length===0\" style=\"text-align: center\">\n            暂无信息\n          </div>\n        </el-scrollbar>\n      </div>\n    </el-card>\n    <edit-form-interval-task\n      v-model=\"editIntervalFormVisible\"\n      :entity=\"editInterval\"\n      :create=\"editIntervalCreate\"\n      :periodic-data=\"periodicData\"\n      :width=\"'30%'\"\n      @success=\"handleSuccessEditInterval\"/>\n  </div>\n</template>\n\n<script>\n    import * as SyncDataApi from \"@/api/vadmin/monitor/celery\";\n    import EditFormIntervalTask from './edit-form-Interval-task';\n\n    export default {\n        components: { EditFormIntervalTask },\n        props: {},\n        data() {\n            return {\n                periodicData: [],\n                multipleSelection: [],\n                IntervalTagList: [],\n                editInterval: {},\n                editIntervalFormVisible: false,\n                editIntervalCreate: false,\n                modelFormVisible: false,\n                modelSwaggerVisible: false,\n                batchEditFormVisible: false,\n                detail: []\n            };\n        },\n        computed: {},\n        watch: {},\n        created() {\n            this.initData();\n        },\n        methods: {\n            initData() {\n                SyncDataApi.listIntervalschedule({ page_size: 1000 }).then((response) => {\n                    this.detail = response.data.results || [];\n                    this.$store.state.Interval = this.detail;\n                });\n            },\n            handleRefresh(infos) {\n                this.$refs.table.clearSelection();\n                this.$emit('update');\n            },\n            handleIntervalSelectionChange(infos) {\n                this.multipleSelection = infos;\n            },\n            handleOpenEditIntervalForm(create = false, info) {\n                if (create) {\n                    this.editInterval = { periodic: this.detail.id };\n                } else {\n                    this.editInterval = { ...info };\n                }\n                this.editIntervalCreate = create;\n                this.editIntervalFormVisible = true;\n            },\n            handleRemoveIntervalTable(info) {\n                this.$confirm('确认删除？', '确认信息', {\n                    distinguishCancelAndClose: true,\n                    confirmButtonText: '删除',\n                    cancelButtonText: '取消'\n                }).then(() => {\n                    SyncDataApi.deleteIntervalschedule(info.id).then(response => {\n                        const name = info.name ? info.name + ':' : '';\n                        this.msgSuccess(name + '删除成功');\n                        this.initData();\n                    });\n                });\n            },\n            handleSuccessEditInterval() {\n                this.$emit('update');\n            },\n            handleOpenModelForm() {\n                this.modelFormVisible = true;\n            },\n            handleOpenSwagger(model = false) {\n                this.modelSwaggerVisible = true;\n            },\n            handleBatchEdit() {\n                this.batchEditFormVisible = true;\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    .el-table th {\n        display: table-cell !important;\n    }\n\n    .el-scrollbar {\n        height: 100%;\n    }\n\n    .el-scrollbar__wrap {\n        overflow: scroll;\n        width: 100%;\n        height: 100%;\n    }\n\n    .el-scrollbar__view {\n        height: 100%;\n    }\n\n    .el-divider--horizontal {\n        margin: 14px 0;\n    }\n\n    .text {\n        padding-left: 20px;\n        font-size: 14px;\n    }\n    .el-button--mini.is-circle {\n        padding: 5px;\n\n    }\n</style>\n"]}]}